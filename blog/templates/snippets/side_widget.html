<!-- Sideber widget Column -->
{% load static %}

<div class="col-md-4">
<!-- Search widget -->
    <div class="card-mb-4">
        <h5 class="card-header">Search</h5>
        <div class="card-body">
            <div class="input-group">
                <input type="text" class="form-control" type="serch" name="q" value="{{ request.GET.q }}" placeholder="Search for..." aria-label="Search">
                <span class="input-group-append">
                     <button class="btn btn-primary" type="submit" action="{% url 'blog:search_post' %} method="GET">Go!</button>
                </span>
            </div>
        </div>
    </div>


<!-- Categories Widget-->
    <div class="card my-4">
    <h5 class="card-header">Categories</h5>
        <div class="card-body">
            <div class="row">
            <!-- 登録されたカテゴリが複数表示される -->
                <div class="col-lg-6">
                    <ul class="list-group list-group-flush">
                        {% for category in categories|dictsortreversed:"num_posts"|slice:":2" %}
                    <!-- 数の多い順（降順）で並べる -->
                        <li class="list-group-item d-frex justify-content-between align-items-center">
                            {% if category.num_posts > 0 %}
                                <a href="{% url 'blog:category_post' category.slug %}" class="card-link">{{ category.name }}</a>
                            {% else %}
                                <a href="#" class="card-link">{{ category.name }}</a>
                            {% endif %}
                            <span class="badge badge-primary badge-pill">{{ category.num_posts }}</span>
                        </li>
                        {% empty %}
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>

<!-- Tags Widget-->
    <div class="card my-4">
        <h5 class="card-header">Tags</h5>
        <div class="card-body">
            <div class="row">
                <!-- 登録されたタグが複数表示される -->
                <div class="col-lg-6">
                    <ul class="list-group list-group-flush">
                        {% for tag in tags|dictsortreversed:"num_posts" %}
                        <li class="list-group-item d-frex justify-content-between align-items-center">
                            {% if tag.num_posts > 0 %}
                                <a href="{% url 'blog:tag_post' tag.slug %}" class="card-link">{{ tag.name }}</a>
                            {% else %}
                                <a href="#" class="card-link">{{ tag.name }}</a>
                            {% endif %}
                            <span class="badge badge-primary badge-pill">{{ tag.num_posts }}</span>
                        </li>
                        {% empty %}
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
